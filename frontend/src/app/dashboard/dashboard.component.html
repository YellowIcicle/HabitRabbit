<!--
  ~ dashboard.component.html Copyright (c) 2020 by the HabitRabbit developers (ardianq, lachchri16, sweiland, YellowIcicle).
  -->

<div class="grid-container">
  <h1 class="mat-h1">Dashboard</h1>
  <mat-grid-list cols="2" rowHeight="350px">
    <mat-grid-tile *ngFor="let card of cards | async" [colspan]="card.cols" [rowspan]="card.rows">
      <mat-card class="dashboard-card">
        <mat-card-header>
          <mat-card-title>{{card.title}}</mat-card-title>
        </mat-card-header>
        <mat-card *ngIf="card.title == 'User'" class="userCard">
          <mat-card-header>
            <mat-card-title *ngIf="card.title == 'User'">
              Level: {{level}}
              <div class="score">Score: {{score}}xðŸ¥•</div>
            </mat-card-title>
          </mat-card-header>
          <mat-card-content class="dashboard-card-content">
            <div *ngIf="card.title == 'User'" class="userStatsWrapper">
              <div *ngIf="card.title == 'User'" [ngStyle]="{'background-color': profileColor}" class="profileContainer">
                <img [src]="profileImage" class="profilePicture">
                <div [ngStyle]="{'background-color': profileColor, 'opacity': 0.8}" class="changePicture">
                  <button class="buttonPicture" routerLink="../profile-picture-form"></button>
                  Change Profile Picture
                </div>
              </div>
              <div class="userStats">
                <div class="userFirst">
                  <div class="stat statfirst">Username:
                    <div [ngStyle]="{'color': profileColor}" class="statValue">{{username}}</div>
                  </div>
                  <div class="stat statsecond">First Name:
                    <div class="statValue">{{firstname}}</div>
                  </div>
                </div>
                <div class="userSecond">
                  <div class="stat statfirst">Last Name:
                    <div class="statValue">{{lastname}}</div>
                  </div>
                  <div class="stat statsecond">E-Mail:
                    <div class="statValue">{{email}}</div>
                  </div>
                </div>
                <div class="userThird">
                  <div class="stat statfirst">
                    <div class="statValue test">
                      <button (click)="openDialogUser()"
                              class="userButton" color="primary"
                              mat-raised-button type="submit">Edit
                    </button>
                    </div>
                  </div>
                  <div class="stat statsecond">
                    <div class="statValue">
                      <button (click)="openDialog()"
                              class="userButton" color="accent"
                              mat-raised-button type="submit">Change PW
                    </button></div>
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>
